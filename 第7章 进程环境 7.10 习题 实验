习题7.10 
判断下面的程序是否正确
  1 #include "apue.h"
  2 #include <fcntl.h>
  3 int f1(int val)
  4 {
  5     int num=0;
  6     int *ptr = &num;
  7     if(val ==0)
  8     {
  9         int val;
 10         val=5;
 11         ptr=&val;
 12     }
 13     return (*ptr+1);
 14 }
 15 
 16 int main(void)
 17 {
 18     printf("%d\n",f1(0));
 19     exit(0);
 20 
 21 }

根据GCC的运行结果,发现:
1 在GCC优化基本为O0,O2,O3时,返回结果为6,程序可正常运行
2 在GCC优化基本为O1,Os时,返回结果随机

此题目主要考察点:
1 自动变量的作用域问题
  自动变量的作用域尽在复合语句的大括号中,在大括号之外,自动变量就已经不存在了,就不能再用指针返回了.
  在不同的系统,不同的优化级别,函数返回结果不一样,所以这段代码是不稳定的,会有问题.
